<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="generator" content="TiddlyWiki" />
<meta name="tiddlywiki-version" content="5.1.20-prerelease" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta name="apple-mobile-web-app-capable" content="yes" />
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
<meta name="mobile-web-app-capable" content="yes"/>
<meta name="format-detection" content="telephone=no">
<link id="faviconLink" rel="shortcut icon" href="favicon.ico">
<link rel="stylesheet" href="static.css">
<title>Macro Definitions: TiddlyWiki — Cuaderno de notas personal no-lineal en la web</title>
</head>
<body class="tc-body">
<p><div class="tc-static-alert"><div class="tc-static-alert-inner">This page is part of a static HTML representation of the TiddlyWiki at <a class="tc-tiddlylink-external" href="https://tiddlywiki.com/" rel="noopener noreferrer" target="_blank">https://tiddlywiki.com/</a></div></div>
</p>
<section class="tc-story-river">
<p><div class="tc-tiddler-frame tc-tiddler-view-frame tc-tiddler-exists   tc-tagged-WikiText " data-tags="WikiText" data-tiddler-title="Macro Definitions in WikiText"><div class="tc-tiddler-title">
<div class="tc-titlebar">
<span class="tc-tiddler-controls">
<span class=" tc-reveal"><button aria-label="Más" class="tc-btn-invisible" title="Otras acciones"></button><div class=" tc-reveal" hidden="true"></div></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal"><button aria-label="Editar" class="tc-btn-invisible" title="Permite editar este tiddler"></button></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal"><button aria-label="Cerrar" class="tc-btn-invisible" title="Cierra este tiddler"></button></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span><span class=" tc-reveal" hidden="true"></span>
</span>

<span>

<span class="tc-tiddler-title-icon" style="fill:;">

</span>



<h2 class="tc-title">

Macro Definitions in WikiText

</h2>

</span>

</div>

<div class="tc-tiddler-info tc-popup-handle tc-reveal" hidden="true"></div>
</div><div class=" tc-reveal" hidden="true"></div>
<div class=" tc-reveal">
<div class="tc-subtitle">
<a class="tc-tiddlylink tc-tiddlylink-missing" href=".html">

</a> 20 agosto 2018 a las 17:51
</div>
</div>
<div class=" tc-reveal">
<div class="tc-tags-wrapper"><span class="tc-tag-list-item">


<button class="tc-btn-invisible tc-tag-label" style="background-color:;
fill:#333333;
color:#333333;">
 WikiText
</button>
<span class=" tc-reveal" hidden="true"></span>


</span></div>
</div>








<div class="tc-tiddler-body tc-reveal"><p>A <a class="tc-tiddlylink tc-tiddlylink-resolves" href="Macros.html">macro</a> is defined using a <code>\define</code> <a class="tc-tiddlylink tc-tiddlylink-resolves" href="Pragma.html">pragma</a>. Like any pragma, this can only appear at the start of a tiddler.</p><p>The first line of the definition specifies the macro name and any parameters. Each parameter has a name and, optionally, a default value that is used if no value is supplied on a particular call to the macro. The lines that follow contain the text of the macro text (i.e. the snippet represented by the macro name), until <code>\end</code> appears on a line by itself:</p><pre><code>\define sayhi(name:&quot;Bugs Bunny&quot; address:&quot;Rabbit Hole Hill&quot;)
Hi, I'm $name$ and I live in $address$.
\end
</code></pre><p>Alternatively, the entire definition can be presented on a single line without an <code>\end</code> marker:</p><pre><code>\define sayhi(name:&quot;Bugs Bunny&quot;) Hi, I'm $name$.</code></pre><p>A more formal <a class="tc-tiddlylink tc-tiddlylink-resolves" href="Macro%2520Definition%2520Syntax.html">presentation</a> of this syntax is also available.</p><h2 class="">Accessing variables and parameters</h2><p>Inside the macro there are several methods for accessing variables defined outside of the macro or parameters from the macro parameter list. </p><table><thead><tr class="evenRow"><td>syntax</td><td>description</td></tr></thead><tbody><tr class="oddRow"><td><code>$...$</code></td><td align="left">Text substitution of a parameter defined in the macro parameters list</td></tr><tr class="evenRow"><td><code>&lt;&lt;__...__&gt;&gt;</code></td><td align="left">Parameter-as-variable access to a parameter defined in the macro parameters list</td></tr><tr class="oddRow"><td><code>$(...)$</code></td><td align="left">Text substitution of a variable defined outside of the macro</td></tr><tr class="evenRow"><td><code>&lt;&lt;...&gt;&gt;</code></td><td align="left">Access to a variable (or other macro) defined outside of the macro</td></tr></tbody></table><br><h3 class="">Placeholders <code>$(...)$</code></h3><p>The macro can contain placeholders for parameters. These consist of a parameter name between dollar signs, like <code>$this$</code>.</p><p>The macro can also contain placeholders for <a class="tc-tiddlylink tc-tiddlylink-resolves" href="Variables.html">variables</a>. These consist of a variable name (or macro name) between dollar signs and round brackets, like <code>$(this)$</code>.</p><p>The actual value of the parameter or variable is substituted for the placeholder whenever the macro is called:</p><p>
<pre><code>\define say-hi-using-variables()
Hi, I'm $(name)$ and I live in $(address)$.
\end

\define name() Bugs
</code></pre>
<div class="doc-example">
<span class=" tc-reveal">
	<div style="position: relative;">
<div style="position: absolute; bottom: 0; right: 0;">
<button class="tc-btn-invisible" title="Copy this text to the clipboard">
<svg class="tc-image-copy-clipboard tc-image-button" height="22pt" viewBox="0 0 128 128" width="22pt">
	<g fill-rule="evenodd">
		<rect height="8" rx="4" width="33" x="40" y="40"></rect>
		<rect height="8" rx="4" width="17" x="40" y="82"></rect>
		<rect height="8" rx="4" width="17" x="40" y="54"></rect>
		<rect height="8" rx="4" width="33" x="40" y="96"></rect>
		<rect height="8" rx="4" width="12" x="40" y="68"></rect>
		<path d="M40,16 L23.9992458,16 C19.5813843,16 16,19.5907123 16,24 C16,24.0016363 16.0000005,24.0032725 16.0000015,24.0049086 C16.0000005,24.0065441 16,24.0081803 16,24.0098166 L16,119.990183 C16,119.99182 16.0000005,119.993456 16.0000015,119.995092 C16.0000005,119.996727 16,119.998364 16,120 C16,124.409288 19.5813843,128 23.9992458,128 L104.000754,128 C106.205061,128 108.203844,127.105595 109.652065,125.659342 C111.102424,124.21251 112,122.214511 112,120.007595 L112,103.992405 C112,99.5776607 108.418278,96 104,96 C99.5907123,96 96,99.5783218 96,103.992405 L96,112 L32,112 L32,32 L96,32 L96,40.0075946 C96,44.4223393 99.581722,48 104,48 C108.409288,48 112,44.4216782 112,40.0075946 L112,23.9924054 C112,21.7851587 111.104671,19.7871591 109.657101,18.3409203 C108.203844,16.8944047 106.205061,16 104.000754,16 L88,16 C88,11.5907123 84.4151006,8 79.9929031,8 L48.0070969,8 C43.5881712,8 40,11.581722 40,16 Z M44,14.9958262 C44,12.7889923 45.7964248,11 48.0000255,11 L79.9999745,11 C82.2091276,11 84,12.7965212 84,14.9958262 L84,19.0041738 C84,21.2110077 82.2035752,23 79.9999745,23 L48.0000255,23 C45.7908724,23 44,21.2034788 44,19.0041738 L44,14.9958262 Z"></path>
		<rect height="16" rx="8" width="66" x="62" y="64"></rect>
		<path d="M60.6568542,85.6568542 L76.6568542,69.6568543 L65.3431458,69.6568542 L81.3431458,85.6568542 C84.4673401,88.7810486 89.5326599,88.7810486 92.6568542,85.6568542 C95.7810486,82.5326599 95.7810486,77.4673401 92.6568542,74.3431458 L76.6568542,58.3431458 C73.5326599,55.2189514 68.4673401,55.2189514 65.3431458,58.3431457 L49.3431458,74.3431457 C46.2189514,77.4673401 46.2189514,82.5326599 49.3431457,85.6568542 C52.4673401,88.7810486 57.5326599,88.7810486 60.6568542,85.6568542 L60.6568542,85.6568542 Z" transform="translate(71.000000, 72.000000) rotate(-90.000000) translate(-71.000000, -72.000000) "></path>
	</g>
</svg> copy to clipboard
</button>
</div>
</div>
	<pre><code>&lt;$set name=&quot;address&quot; value=&quot;Rabbit Hole Hill&quot;&gt;
&lt;&lt;say-hi-using-variables&gt;&gt;
&lt;/$set&gt;</code></pre>
</span>
<span class=" tc-reveal" hidden="true"></span>

<span class=" tc-reveal">
	<dl>
	<dd><button class="">Try it</button></dd>
	</dl>
</span>
<span class=" tc-reveal" hidden="true"></span>
</div>
</p><h3 class="">Parameters as Variables <code>&lt;&lt;__...__&gt;&gt;</code></h3><p>Parameters in a wikitext macro can be accessed as variables by using the syntax <code>&lt;&lt;__...__&gt;&gt;</code>, i.e the parameter name surrounded by double underscores. For example, the example above could also be expressed as:</p><pre><code>\define sayhi(name:&quot;Bugs Bunny&quot;) Hi, I'm &lt;$text text=&lt;&lt;__name__&gt;&gt;/&gt;.</code></pre><p>Accessing parameters as variables only works in macros that are wikified and not, for example, when a macro is used as an attribute value. The advantage of the technique is that it avoids the parameter value being substituted into the macro as a literal string, which in turn can help avoid issues with parameters that contain quotes.</p><p>For example, consider this macro. It invokes another macro using the single parameter as an argument for it:</p><pre><code>\define film-quote(line) &lt;$macrocall $name=&quot;anothermacro&quot; actor=&quot;Bugs Bunny&quot; line=&quot;&quot;&quot;$line$&quot;&quot;&quot;/&gt;</code></pre><p>The code above will fail if the macro is invoked with the argument containing triple double quotes (for example <code>&lt;&lt;film-quote 'I quote thrice &quot;&quot;&quot; - see!?'&gt;&gt;</code>). Using parameter variables offers a workaround:</p><pre><code>\define film-quote(line) &lt;$macrocall $name=&quot;anothermacro&quot; actor=&quot;Bugs Bunny&quot; line=&lt;&lt;__line__&gt;&gt;/&gt;</code></pre><h2 class="">Scope</h2><p>Macros are available to the tiddler that defines them, plus any tiddlers that it transcludes.</p><p>To make a macro available to all tiddlers, define it in a tiddler that has the tag <code class="doc-tag"><a class="tc-tiddlylink tc-tiddlylink-missing" href="%2524%253A%252Ftags%252FMacro.html">$:/tags/Macro</a></code>.</p><p>It is also possible to write a macro as a <a class="tc-tiddlylink-external" href="https://tiddlywiki.com/dev/index.html#JavaScript%20Macros" rel="noopener noreferrer" target="_blank">JavaScript module</a>. JavaScript macros are available to all tiddlers, and offer the maximum flexibility.</p><p>A tiddler can manually import macro definitions from a <a class="tc-tiddlylink tc-tiddlylink-resolves" href="Title%2520Selection.html">selection</a> of other tiddlers by using the <a class="tc-tiddlylink tc-tiddlylink-resolves" href="ImportVariablesWidget.html"><code class="doc-widget">$importvariables</code></a> widget.
</p></div>



</div>

</p>
</section>
</body>
</html>
